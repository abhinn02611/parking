<div class="page-wrapper">
  <header>
    <div class="logo">
      <img src="/assets/images/sistem_logo.svg" />
    </div>
    <nav>
      <ul>
        <li>
          <a href="">Help</a>
        </li>
        <li>
          <a href="">Contact Sales</a>
        </li>
        <li>
          <a [routerLink]="['/signup']" class="highlight"
            >Create Free Account</a
          >
        </li>
      </ul>
    </nav>
  </header>

  <div class="center-box-outer">
    <div class="center-box">
      <div *ngIf="step == 1">
        <div class="heading">Sign-in to your Sistem</div>
        <div class="text">
          App designed to digitalise your entire parkings and give you the power
          of automation.
        </div>
        <div class="form-row mt-50" *ngIf="step == 1">
          <label class="label">Enter Your Registered Email</label>
          <input
            type="text"
            class="input-control"
            placeholder="email id"
            [(ngModel)]="email"
            (input)="handleEmailInputChange()"
            (blur)="handleEmailBlurEvent()"
          />
        </div>
        <div class="red-text mt-5 mh-20" *ngIf="emailErrorMessage">{{ emailErrorMessage }}</div>
        <div class="mt-30 dt">
          <!-- <a class="find-sistem">Find your Domain</a> -->
          <div class="button pull-right" (click)="switchToNextStep(1)">
            Next
          </div>
        </div>
      </div>
      <!-- <div  *ngIf="step==2">
          <div class="heading">Welcome to {{domain}} Sistem</div>
          <div class="text">Sign-in with your business email address</div>
          <div class="form-row mt-50">
            <label class="label">Enter Your Email</label>
            <input type="text" class="input-control" placeholder="Username" [(ngModel)]="email" />
          </div>
          <div class="red-text mt-5 mh-20">{{errorMessageEmail}}</div>
          <div class="mt-30 dt">
            <div class="button pull-right" (click)="checkEmail()">Next</div>
          </div>
      </div> -->
      <div *ngIf="step == 2">
        <div class="heading">Your Password</div>
        <div class="email">
          <div>{{ email }}</div>
          <div class="red-text ml-10 cursorp" (click)="switchToBackStep(2)">Change Email</div>
        </div>

        <div class="form-row mt-40">
          <label class="label">Enter Your Password</label>
          <input
            type="text"
            class="input-control"
            placeholder="Password"
            [(ngModel)]="password"
          />
        </div>
        <div class="red-text mt-5 mh-20">{{ errorMessageEmail }}</div>
        <div class="mt-30 dt">
          <a class="find-sistem">Forgot Your Password</a>
          <div class="button pull-right" (click)="login()">Next</div>
        </div>
      </div>
      <div *ngIf="step == 4">
        <div class="heading">Verify your identity</div>
        <div class="text mt-5">
          You are trying to Log in to {{ domain }} Sistem.<br />Enter 6 digit
          verification code we emailed to
        </div>
        <div class="form-row mt-10">
          <div class="otp-container">
            <input
              type="text"
              maxlength="1"
              class="otp"
              #otp1
              [(ngModel)]="otppart1"
              (keyup)="moveNextInput(2, $event)"
            />
            <input
              type="text"
              maxlength="1"
              class="otp"
              #otp2
              [(ngModel)]="otppart2"
              (keyup)="moveNextInput(3, $event)"
            />
            <input
              type="text"
              maxlength="1"
              class="otp"
              #otp3
              [(ngModel)]="otppart3"
              (keyup)="moveNextInput(4, $event)"
            />
            <input
              type="text"
              maxlength="1"
              class="otp"
              #otp4
              [(ngModel)]="otppart4"
              (keyup)="moveNextInput(5, $event)"
            />
            <input
              type="text"
              maxlength="1"
              class="otp"
              #otp5
              [(ngModel)]="otppart5"
              (keyup)="moveNextInput(6, $event)"
            />
            <input
              type="text"
              maxlength="1"
              class="otp"
              #otp6
              [(ngModel)]="otppart6"
              (keyup)="moveNextInput(7, $event)"
            />
          </div>
        </div>
        <div class="clear"></div>
        <div class="smalltext text-center mt-10" *ngIf="timerview == 0">
          Doesn't get the verification code?
          <span (click)="checkPassword()" class="red-text pointer">Resend</span>
        </div>
        <div class="smalltext text-center mt-10" *ngIf="timerview == 1">
          Re-send code: {{ timervalue }}
        </div>
        <div class="red-text mt-5 mh-20">{{ errorMessageOTP }}</div>
        <div class="mt-30 dt">
          <div class="button pull-right" (click)="verifyOTP()">Verify</div>
        </div>
      </div>
    </div>
  </div>

  <div style="margin-top: 300px; margin-left: 30px">
    <div class="button action">Log In</div>
  </div>
</div>
<footer>
  &copy; 2018 sistem.app, All rights reserved. | <a href="#">Sistem Status</a> |
  <a href="#">Privacy</a> | <a href="#">Terms & Conditions</a>
</footer>
<sistem-pageloader *ngIf="loading"></sistem-pageloader>
